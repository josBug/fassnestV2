<!--index.wxml-->
<view class="container" wx:if="{{ isLogin }}" style='padding:0px'>
<view class="userinfo" style='margin-top:50px;margin-left:30px;'>
  <image class="userinfo-avatar" src="../../logo2.png" mode="Widthfix"></image>
</view>
<van-cell-group>
  <van-field
    value="{{ username }}"
    required
    clearable
    label="用户名"
    icon="question"
    placeholder="请输入用户名"
    bind:click-icon="onClickIcon"
    bind:change="onChangeLoginUserName"
    error-message="{{ loginErrorMessage }}"
  />

  <van-field
    value="{{ password }}"
    type="password"
    label="密码"
    placeholder="请输入密码"
    required
    border="{{ false }}"
    bind:change="onChangeLoginPasswd"
  />
</van-cell-group>
<van-cell-group>
  <van-field
    value="{{ code }}"
    center
    clearable
    required
    label="邮箱验证码"
    placeholder="请输入邮箱验证码"
    border="{{ false }}"
    use-button-slot
    bind:change="onChangeLoginEmailCode"
  >
    <van-button slot="button" size="small" type="primary" bind:click="changeButton" disabled="{{ disabled }}">{{ btnText }}</van-button>
  </van-field>
</van-cell-group>
<van-button class="send" size="normal" type="primary" bindtap="loginSystem">登录</van-button>
<wux-button style="margin-top: 10px;" block clear type="stable" bind:click="onClickRegistry">还没有账号，立即去注册 ></wux-button>
</view>

<view class="container" wx:if="{{ !isLogin }}" style='padding:0px'>
<view class="userinfo" style='margin-top:50px;margin-left:30px;'>
  <image class="userinfo-avatar" src="../../logo2.png" mode="Widthfix"></image>
</view>
<van-cell-group>
  <van-field
    value="{{ registryUserName }}"
    required
    clearable
    label="用户名"
    placeholder="请输入用户名"
    bind:change="onChangeRegistryUserName"
    error-message="{{ registryErrorMessage }}"
  />

  <van-field
    value="{{ registryPasswd }}"
    type="password"
    label="密码"
    placeholder="请输入密码"
    required
    border="{{ false }}"
    bind:change="onChangeRegistryPasswd"
  />
    <van-field
    value="{{ registryEmail }}"
    required
    clearable
    label="邮箱"
    placeholder="请输入邮箱"
    border="{{ false }}"
    bind:change="onChangeRegistryEmail"
  />
</van-cell-group>
<van-row gutter="2" style="margin-top: 30px;">
  <van-col span="12">
  <van-button class="send" size="normal" type="primary" bindtap="registrySystem">注册账号</van-button>
  </van-col>
  <van-col span="12">
  <van-button class="send" size="normal" type="danger" bindtap="cancelRegistry">取消注册</van-button>
  </van-col>
</van-row>

</view>
